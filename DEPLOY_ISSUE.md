# üêõ –ü—Ä–æ–±–ª–µ–º–∞ —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –ø—Ä–∏ –¥–µ–ø–ª–æ–µ [–†–ï–®–ï–ù–û]

## –°–∏–º–ø—Ç–æ–º—ã

- ‚úÖ Docker images —É—Å–ø–µ—à–Ω–æ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –∏ –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –≤ GHCR
- ‚úÖ Deploy workflow –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ Health check –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ
- ‚ùå **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ù–ï –æ–±–Ω–æ–≤–ª—è–ª–∏—Å—å –Ω–æ–≤—ã–º–∏ –æ–±—Ä–∞–∑–∞–º–∏**

## ‚úÖ –†–ï–®–ï–ù–ò–ï –ù–ê–ô–î–ï–ù–û

**–ü—Ä–∏—á–∏–Ω–∞:** SSH heredoc (`<< 'EOF'`) –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç –≤—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥ Docker –æ–±—Ä–∞—Ç–Ω–æ –≤ GitHub Actions, –∏–∑-–∑–∞ —á–µ–≥–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥.

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å deploy —Å–∫—Ä–∏–ø—Ç –Ω–∞ VPS –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –µ–≥–æ —á–µ—Ä–µ–∑ –ø—Ä—è–º–æ–π SSH –≤—ã–∑–æ–≤ —Å –ø–µ—Ä–µ–¥–∞—á–µ–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è.

## –§–∞–∫—Ç—ã

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ SSH):

```bash
# –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å–æ–∑–¥–∞–Ω—ã 6 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥:
fin-u-ch-api    sha256:9ed8ca91e21f... 6 hours ago  Up 6 hours
fin-u-ch-web    sha256:7528c2eefc4d... 6 hours ago  Up 6 hours
fin-u-ch-worker sha256:2504c4afe512... 6 hours ago  Up 6 hours

# –ù–û –æ–±—Ä–∞–∑—ã —Å —Ç–µ–≥–æ–º :latest —Å–≤–µ–∂–∏–µ (10 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥):
ghcr.io/thoxly/fin-u-ch-web:latest    1c0f662319ff  10 minutes ago
ghcr.io/thoxly/fin-u-ch-api:latest    c9b22634e71d   7 hours ago
ghcr.io/thoxly/fin-u-ch-worker:latest 9a4c911d8e38   6 hours ago
```

**–í—ã–≤–æ–¥:** –ù–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã pulled –Ω–∞ —Å–µ—Ä–≤–µ—Ä, –Ω–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–µ SHA256.

## –ö–æ–¥ –¥–µ–ø–ª–æ—è (–∏–∑ workflow)

```yaml
- name: Deploy to VPS
  run: |
    ssh -i ~/.ssh/deploy_key ${{ secrets.VPS_USER }}@${{ secrets.VPS_HOST }} << 'EOF'
      set -e
      cd /opt/fin-u-ch
      
      # Login to GHCR
      echo "${{ secrets.GHCR_TOKEN }}" | docker login ghcr.io -u ${{ github.repository_owner }} --password-stdin
      
      # Pull new images first
      docker compose -f docker-compose.prod.yml pull api web worker
      
      # Apply database migrations
      docker compose -f docker-compose.prod.yml run --rm api npx prisma migrate deploy
      
      # Stop and remove old containers  
      docker compose -f docker-compose.prod.yml stop api web worker
      docker compose -f docker-compose.prod.yml rm -f api web worker
      
      # Start with new images (force recreate)
      docker compose -f docker-compose.prod.yml up -d --force-recreate --pull always api web worker
      
      # Cleanup
      docker container prune -f
      docker image prune -af --filter "until=168h"
    EOF
```

## –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### üîç –ß—Ç–æ –≤—ã—è–≤–ª–µ–Ω–æ –ø—Ä–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ (2025-10-13):

**–¢–µ—Å—Ç 1: –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**

```bash
# –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –°–¢–ê–†–´–ï –æ–±—Ä–∞–∑—ã (—Å–æ–∑–¥–∞–Ω—ã 6 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥):
fin-u-ch-api    -> 9ed8ca91e21f (—Å—Ç–∞—Ä—ã–π –æ–±—Ä–∞–∑ —Å <none> —Ç–µ–≥–æ–º)
fin-u-ch-web    -> 7528c2eefc4d (—Å—Ç–∞—Ä—ã–π –æ–±—Ä–∞–∑ —Å <none> —Ç–µ–≥–æ–º)
fin-u-ch-worker -> 2504c4afe512 (—Å—Ç–∞—Ä—ã–π –æ–±—Ä–∞–∑ —Å <none> —Ç–µ–≥–æ–º)

# –ü—Ä–∏ —ç—Ç–æ–º :latest –æ–±—Ä–∞–∑—ã –±—ã–ª–∏ –ù–û–í–´–ï (pulled –ø—Ä–∏ –¥–µ–ø–ª–æ–µ):
ghcr.io/thoxly/fin-u-ch-web:latest    -> 1c0f662319ff (—Å–≤–µ–∂–∏–π!)
ghcr.io/thoxly/fin-u-ch-api:latest    -> c9b22634e71d (—Å–≤–µ–∂–∏–π!)
ghcr.io/thoxly/fin-u-ch-worker:latest -> 9a4c911d8e38 (—Å–≤–µ–∂–∏–π!)
```

**–í—ã–≤–æ–¥:** –ù–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã –∑–∞–≥—Ä—É–∂–∞–ª–∏—Å—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä, –Ω–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø—Ä–æ–¥–æ–ª–∂–∞–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–µ SHA256 –æ–±—Ä–∞–∑–æ–≤.

**–¢–µ—Å—Ç 2: –†—É—á–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –¥–µ–ø–ª–æ—è**

```bash
# –ü—Ä–∏ —Ä—É—á–Ω–æ–º –∑–∞–ø—É—Å–∫–µ —Ç–µ—Ö –∂–µ –∫–æ–º–∞–Ω–¥ –∏–∑ workflow:
docker compose pull api web worker
docker compose stop api web worker
docker compose rm -f api web worker
docker compose up -d --force-recreate --pull always api web worker

# –†–µ–∑—É–ª—å—Ç–∞—Ç: –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –£–°–ü–ï–®–ù–û –û–ë–ù–û–í–ò–õ–ò–°–¨!
fin-u-ch-api    -> ghcr.io/thoxly/fin-u-ch-api:latest
fin-u-ch-web    -> ghcr.io/thoxly/fin-u-ch-web:latest
fin-u-ch-worker -> ghcr.io/thoxly/fin-u-ch-worker:latest
```

**–í—ã–≤–æ–¥:** –ö–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Å–ø–æ—Å–æ–±–µ –∏—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ CI/CD.

### üêû –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞

**SSH heredoc –≤ GitHub Actions –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç STDOUT/STDERR –æ–±—Ä–∞—Ç–Ω–æ:**

```yaml
# ‚ùå –ù–ï –†–ê–ë–û–¢–ê–ï–¢:
ssh user@host << 'EOF'
docker compose pull ...
docker compose up -d ...
EOF
```

–ü—Ä–æ–±–ª–µ–º—ã:

1. –ö–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –ø–æ–¥–æ–±–æ–ª–æ—á–∫–µ (subshell)
2. –í—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥ —Ç–µ—Ä—è–µ—Ç—Å—è –∏ –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –ª–æ–≥–∏ GitHub Actions
3. –ü—Ä–∏ –æ—à–∏–±–∫–µ `set -e` –∑–∞–≤–µ—Ä—à–∞–µ—Ç –ø–æ–¥–æ–±–æ–ª–æ—á–∫—É, –Ω–æ SSH –∫–æ–º–∞–Ω–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–¥ 0
4. GitHub Actions —Å—á–∏—Ç–∞–µ—Ç –¥–µ–ø–ª–æ–π —É—Å–ø–µ—à–Ω—ã–º, —Ö–æ—Ç—è –∫–æ–º–∞–Ω–¥—ã –º–æ–≥–ª–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è

–í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ —Ç–æ–ª—å–∫–æ:

- ‚úÖ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ
- ‚úÖ Welcome to Ubuntu...
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚ùå **–ù–û –Ω–µ—Ç output –æ—Ç docker compose pull/stop/rm/up**
- ‚úÖ Workflow –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è success

–ò–∑-–∑–∞ —ç—Ç–æ–≥–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å:

1. –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ª–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∫–æ–º–∞–Ω–¥—ã `docker compose`?
2. –ï—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏ –ø—Ä–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤?
3. –ü–æ—á–µ–º—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –æ—Å—Ç–∞—é—Ç—Å—è –Ω–∞ —Å—Ç–∞—Ä—ã—Ö –æ–±—Ä–∞–∑–∞—Ö?

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

### 1. –ü—Ä–æ–±–ª–µ–º–∞ —Å Here Document —á–µ—Ä–µ–∑ SSH

SSH heredoc (`<< 'EOF'`) –º–æ–∂–µ—Ç –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å output –æ–±—Ä–∞—Ç–Ω–æ –≤ GitHub Actions.

### 2. Docker Compose –∫–µ—à–∏—Ä—É–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ

–î–∞–∂–µ –ø–æ—Å–ª–µ `pull`, `stop`, `rm` - –∫–æ–º–∞–Ω–¥–∞ `up -d --force-recreate` –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞–∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π state.

### 3. –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–ª–æ–∫–∏—Ä—É—é—Ç –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ

–ö–æ–º–∞–Ω–¥–∞ `prisma migrate deploy` —Å–æ–∑–¥–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å —Å –ø–æ—Å–ª–µ–¥—É—é—â–∏–º `up`.

### 4. --pull always –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–∂–∏–¥–∞–µ—Ç—Å—è

–§–ª–∞–≥ `--pull always` –º–æ–∂–µ—Ç –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –µ—Å–ª–∏ –æ–±—Ä–∞–∑—ã —É–∂–µ –µ—Å—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ.

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥: Deploy —Å–∫—Ä–∏–ø—Ç –Ω–∞ VPS

–í–º–µ—Å—Ç–æ SSH heredoc, —Ç–µ–ø–µ—Ä—å workflow:

1. **–°–æ–∑–¥–∞–µ—Ç deploy —Å–∫—Ä–∏–ø—Ç** –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
2. **–î–µ–ª–∞–µ—Ç –µ–≥–æ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º**
3. **–í—ã–ø–æ–ª–Ω—è–µ—Ç —á–µ—Ä–µ–∑ –ø—Ä—è–º–æ–π SSH** —Å –ø–µ—Ä–µ–¥–∞—á–µ–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```yaml
- name: Deploy to VPS
  run: |
    # –°–æ–∑–¥–∞—Ç—å deploy.sh –Ω–∞ VPS —á–µ—Ä–µ–∑ cat
    ssh -i ~/.ssh/deploy_key ${{ secrets.VPS_USER }}@${{ secrets.VPS_HOST }} "cat > /opt/fin-u-ch/deploy.sh" << 'DEPLOY_SCRIPT'
    #!/bin/bash
    set -e

    echo "=== Starting deployment at $(date) ==="
    cd /opt/fin-u-ch

    # ... –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º ...

    echo "‚úÖ Deployment completed successfully at $(date)!"
    DEPLOY_SCRIPT

    # –°–¥–µ–ª–∞—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
    ssh -i ~/.ssh/deploy_key ${{ secrets.VPS_USER }}@${{ secrets.VPS_HOST }} "chmod +x /opt/fin-u-ch/deploy.sh"

    # –í—ã–ø–æ–ª–Ω–∏—Ç—å —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
    ssh -i ~/.ssh/deploy_key ${{ secrets.VPS_USER }}@${{ secrets.VPS_HOST }} \
      "GHCR_TOKEN='${{ secrets.GHCR_TOKEN }}' GITHUB_OWNER='${{ github.repository_owner }}' /opt/fin-u-ch/deploy.sh"
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è

‚úÖ **–í–µ—Å—å –≤—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥ Docker –≤–∏–¥–∏–º –≤ –ª–æ–≥–∞—Ö GitHub Actions**
‚úÖ **–û—à–∏–±–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∏ –ø—Ä–µ—Ä—ã–≤–∞—é—Ç workflow**
‚úÖ **–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ –¥–µ–ø–ª–æ—è**
‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–æ –∏ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**
‚úÖ **–°–∫—Ä–∏–ø—Ç –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–ª—è —Ä—É—á–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤**

### –ß—Ç–æ —Ç–µ–ø–µ—Ä—å –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è

```bash
=== Starting deployment at [timestamp] ===
=== Current containers (before update) ===
[—Ç–∞–±–ª–∏—Ü–∞ —Å —Ç–µ–∫—É—â–∏–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏]

=== Pulling new images ===
[–ø—Ä–æ–≥—Ä–µ—Å—Å pull]

=== Available images ===
[—Å–ø–∏—Å–æ–∫ –æ–±—Ä–∞–∑–æ–≤ —Å ID –∏ –¥–∞—Ç–æ–π]

=== Applying database migrations ===
[–≤—ã–≤–æ–¥ prisma migrate]

=== Stopping and removing old containers ===
[–ø—Ä–æ—Ü–µ—Å—Å –æ—Å—Ç–∞–Ω–æ–≤–∫–∏]

=== Starting containers with new images ===
[–ø—Ä–æ—Ü–µ—Å—Å –∑–∞–ø—É—Å–∫–∞]

=== New containers (after update) ===
[—Ç–∞–±–ª–∏—Ü–∞ —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏]

‚úÖ Deployment completed successfully at [timestamp]!
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ deploy —Å–∫—Ä–∏–ø—Ç–∞

–°–∫—Ä–∏–ø—Ç —Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –≤—Ä—É—á–Ω—É—é:

```bash
ssh root@83.166.244.139

# –°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –¥–µ–ø–ª–æ–µ
/opt/fin-u-ch/deploy.sh

# –ò–ª–∏ —Å —è–≤–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–µ–π —Ç–æ–∫–µ–Ω–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
GHCR_TOKEN="your_token" GITHUB_OWNER="thoxly" /opt/fin-u-ch/deploy.sh
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ workflow

–ü–æ—Å–ª–µ merge –≤ `main`, workflow –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

1. –°–æ–±–µ—Ä–µ—Ç –Ω–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã
2. –û–ø—É–±–ª–∏–∫—É–µ—Ç –∏—Ö –≤ GHCR
3. –°–æ–∑–¥–∞—Å—Ç deploy.sh –Ω–∞ VPS
4. –í—ã–ø–æ–ª–Ω–∏—Ç –¥–µ–ø–ª–æ–π —Å –ø–æ–ª–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

–õ–æ–≥–∏ –±—É–¥—É—Ç –≤–∏–¥–Ω—ã –≤ GitHub Actions ‚Üí Deploy to VPS job.

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–ü–æ—Å–ª–µ –ª—é–±–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ - ID –æ–±—Ä–∞–∑–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å :latest
docker ps --no-trunc | grep fin-u-ch
docker images | grep fin-u-ch | grep latest

# –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–≤–µ–∂–∏–º
docker ps --format "{{.Names}}: created {{.RunningFor}}"
```

---

## –ò—Ç–æ–≥–∏

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–®–ï–ù–û**  
**–°–æ–∑–¥–∞–Ω–æ:** 2025-10-13  
**–†–µ—à–µ–Ω–æ:** 2025-10-13  
**Workflow:** `.github/workflows/ci-cd.yml` (Deploy to VPS job)

### –ò–∑–º–µ–Ω–µ–Ω–∏—è

1. ‚úÖ –ü–µ—Ä–µ–ø–∏—Å–∞–Ω —à–∞–≥ `Deploy to VPS` –≤ workflow
2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ `/opt/fin-u-ch/deploy.sh` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ –¥–µ–ø–ª–æ—è
4. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–¥–∞—á–∞ –≤—ã–≤–æ–¥–∞ –∫–æ–º–∞–Ω–¥ –≤ GitHub Actions
5. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–æ –∏ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. Commit –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ `dev` –≤–µ—Ç–∫—É
2. –°–æ–∑–¥–∞—Ç—å PR –≤ `main`
3. –ü–æ—Å–ª–µ merge ‚Äî –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤ GitHub Actions
5. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
