# –§–ê–ó–ê 10: –ü–µ—Ä–≤—ã–π –¥–µ–ø–ª–æ–π - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

**–î–∞—Ç–∞:** 8 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Completed

## –û–±–∑–æ—Ä

–§–ê–ó–ê 10 –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ –Ω–∞ VPS –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ production —Ä–µ–∂–∏–º–µ.

**Production URL:** http://83.166.244.139

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 10.1 –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Docker ‚úÖ

#### Docker Compose –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–°–æ–∑–¥–∞–Ω `ops/docker/docker-compose.local.yml` –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –∫–∞–∫ –≤ production.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–∑—ã (–Ω–µ –∏–∑ registry)
- –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Ä—Ç—ã (5433, 6380) —á—Ç–æ–±—ã –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å —Å –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π
- –ü–æ–ª–Ω–∞—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è production –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å –∫–æ—Ä–Ω–µ–≤—ã–º `package.json` —á–µ—Ä–µ–∑ npm-—Å–∫—Ä–∏–ø—Ç—ã

**–ö–æ–º–∞–Ω–¥—ã:**

```bash
pnpm docker:build    # –°–æ–±—Ä–∞—Ç—å –≤—Å–µ –æ–±—Ä–∞–∑—ã
pnpm docker:up       # –ó–∞–ø—É—Å—Ç–∏—Ç—å
pnpm docker:ps       # –°—Ç–∞—Ç—É—Å
pnpm docker:logs     # –õ–æ–≥–∏
pnpm docker:down     # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
pnpm docker:clean    # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å + —É–¥–∞–ª–∏—Ç—å volumes
```

#### –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤

–°–æ–±—Ä–∞–Ω—ã –≤—Å–µ Docker –æ–±—Ä–∞–∑—ã –ª–æ–∫–∞–ª—å–Ω–æ:

| –û–±—Ä–∞–∑  | –†–∞–∑–º–µ—Ä | –°—Ç–∞—Ç—É—Å |
| ------ | ------ | ------ |
| API    | 452 MB | ‚úÖ     |
| Web    | 53 MB  | ‚úÖ     |
| Worker | 878 MB | ‚úÖ     |

#### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—â–µ–Ω –ø–æ–ª–Ω—ã–π —Å—Ç–µ–∫ –ª–æ–∫–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ `docker-compose.local.yml`:

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**

- ‚úÖ PostgreSQL: –ó–∞–ø—É—â–µ–Ω, healthy
- ‚úÖ Redis: –ó–∞–ø—É—â–µ–Ω, healthy
- ‚úÖ API: –ó–∞–ø—É—â–µ–Ω, healthy, –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –ë–î –∏ Redis
- ‚úÖ Web: –ó–∞–ø—É—â–µ–Ω, Frontend –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- ‚úÖ Worker: –ó–∞–ø—É—â–µ–Ω, cron tasks –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ Nginx: –ü—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**Health checks:**

```bash
# API –Ω–∞–ø—Ä—è–º—É—é
curl http://localhost:4000/api/health
# {"status":"ok","timestamp":"2025-10-08T11:47:13.039Z"}

# API —á–µ—Ä–µ–∑ Nginx
curl http://localhost/api/health
# {"status":"ok","timestamp":"2025-10-08T11:47:22.252Z"}

# Frontend —á–µ—Ä–µ–∑ Nginx
curl http://localhost/
# HTML –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

# Frontend –Ω–∞–ø—Ä—è–º—É—é
curl http://localhost:8080/
# HTML –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
```

**–õ–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–æ–≤:**

- API: `2025-10-08T11:46:52.877Z [info]: Redis connected`
- Worker: `‚úÖ Database connection established`, `‚úÖ Salary generation task scheduled`

### 10.2 CI/CD –∏ GHCR ‚úÖ

#### GitHub Actions Workflow

CI/CD –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç (—Å–º. `.github/workflows/ci-cd.yml`):

**Jobs:**

1. `quick-checks` - Lint, format, type-check (1-2 –º–∏–Ω)
2. `ai-code-review` - Claude –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç PR (2-5 –º–∏–Ω)
3. `build` - –°–±–æ—Ä–∫–∞ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤ (5-10 –º–∏–Ω)
4. `test` - Unit —Ç–µ—Å—Ç—ã (5-10 –º–∏–Ω)
5. `test-e2e` - E2E —Ç–µ—Å—Ç—ã —Å Playwright (5-10 –º–∏–Ω)
6. `security-scan` - Trivy scan (2-3 –º–∏–Ω)
7. `docker-build` - –°–±–æ—Ä–∫–∞ –∏ push –æ–±—Ä–∞–∑–æ–≤ –≤ GHCR (5-10 –º–∏–Ω, —Ç–æ–ª—å–∫–æ main)
8. `deploy` - –î–µ–ø–ª–æ–π –Ω–∞ VPS (2-5 –º–∏–Ω, —Ç–æ–ª—å–∫–æ main)

#### GitHub Container Registry

**–û–±—Ä–∞–∑—ã –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã:**

- `ghcr.io/thoxly/fin-u-ch-api:latest`
- `ghcr.io/thoxly/fin-u-ch-web:latest`
- `ghcr.io/thoxly/fin-u-ch-worker:latest`

**GitHub Secrets –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã:**

- `GHCR_TOKEN` - –¢–æ–∫–µ–Ω –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ GHCR
- `VPS_SSH_KEY` - SSH –∫–ª—é—á –¥–ª—è –¥–µ–ø–ª–æ—è
- `VPS_HOST` - 83.166.244.139
- `VPS_USER` - root
- `DATABASE_URL`, `REDIS_URL`, `JWT_SECRET` - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### –ü–æ—Å–ª–µ–¥–Ω–∏–π —É—Å–ø–µ—à–Ω—ã–π –¥–µ–ø–ª–æ–π

**Commit:** `7b68936` - "ci: remove temporary debug workflows after successful deployment fix"  
**Status:** ‚úÖ Green (–≤—Å–µ checks –ø—Ä–æ—à–ª–∏)

### 10.3 Production –¥–µ–ø–ª–æ–π –Ω–∞ VPS ‚úÖ

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```
/opt/fin-u-ch/
‚îú‚îÄ‚îÄ .env                      # Production –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ docker-compose.prod.yml   # Production compose
‚îú‚îÄ‚îÄ nginx/
‚îÇ   ‚îú‚îÄ‚îÄ nginx.conf            # HTTP –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ nginx-ssl.conf        # HTTPS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–¥–ª—è –±—É–¥—É—â–µ–≥–æ)
‚îî‚îÄ‚îÄ backups/                  # –ë—ç–∫–∞–ø—ã –ë–î (—Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```

#### –ó–∞–ø—É—â–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

**Docker Containers –Ω–∞ VPS:**

- `fin-u-ch-postgres` - PostgreSQL 15
- `fin-u-ch-redis` - Redis 7
- `fin-u-ch-api` - Backend API
- `fin-u-ch-web` - Frontend (Nginx)
- `fin-u-ch-worker` - Background jobs
- `fin-u-ch-nginx` - Reverse proxy

#### –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î

–ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ CI/CD:

```bash
docker compose run --rm api npx prisma migrate deploy
```

### 10.4 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ ‚úÖ

#### Health Checks

**API Health Endpoint:**

```bash
curl http://83.166.244.139/api/health
```

```json
{
  "status": "ok",
  "timestamp": "2025-10-08T11:50:09.121Z"
}
```

**Frontend:**

```bash
curl http://83.166.244.139/
```

```html
<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <title>Fin-U-CH - –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —É—á–µ—Ç</title>
    ...
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
```

**Swagger Documentation:**

```bash
curl http://83.166.244.139/api-docs/
```

‚úÖ Swagger UI –¥–æ—Å—Ç—É–ø–µ–Ω

#### –î–æ—Å—Ç—É–ø–Ω—ã–µ endpoints

**Production URLs:**

- Frontend: http://83.166.244.139
- API: http://83.166.244.139/api
- Swagger: http://83.166.244.139/api-docs
- Health: http://83.166.244.139/api/health

**–û—Å–Ω–æ–≤–Ω—ã–µ API endpoints:**

- `POST /api/auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /api/auth/login` - –í—Ö–æ–¥
- `GET /api/users/me` - –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- `GET /api/articles` - –°—Ç–∞—Ç—å–∏
- `GET /api/accounts` - –°—á–µ—Ç–∞
- `GET /api/operations` - –û–ø–µ—Ä–∞—Ü–∏–∏
- `GET /api/plans` - –ü–ª–∞–Ω—ã
- `GET /api/reports/dashboard` - Dashboard
- `GET /api/reports/cashflow` - –û–î–î–° (—Ñ–∞–∫—Ç)
- `GET /api/reports/bdds` - –ë–î–î–° (–ø–ª–∞–Ω)
- `GET /api/reports/planfact` - –ü–ª–∞–Ω vs –§–∞–∫—Ç

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

### –ü—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è

–ü—Ä–∏ push –≤ `main` –≤–µ—Ç–∫—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:

1. **Lint & Type Check** ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
2. **AI Code Review** ‚Üí Claude –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
3. **Build** ‚Üí –°–±–æ—Ä–∫–∞ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤
4. **Tests** ‚Üí Unit + E2E —Ç–µ—Å—Ç—ã
5. **Security Scan** ‚Üí Trivy –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —É—è–∑–≤–∏–º–æ—Å—Ç–∏
6. **Docker Build** ‚Üí –°–±–æ—Ä–∫–∞ –∏ push –æ–±—Ä–∞–∑–æ–≤ –≤ GHCR
7. **Deploy** ‚Üí –î–µ–ø–ª–æ–π –Ω–∞ VPS
   - Backup –ë–î
   - –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–æ–≤
   - Login –≤ GHCR
   - Pull –Ω–æ–≤—ã—Ö –æ–±—Ä–∞–∑–æ–≤
   - –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤ (zero downtime)
   - Health check
8. **Notify** ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö

### –í—Ä–µ–º—è –¥–µ–ø–ª–æ—è

**–û–±—â–µ–µ –≤—Ä–µ–º—è:** ~15-20 –º–∏–Ω—É—Ç (–æ—Ç commit –¥–æ production)

**Breakdown:**

- Lint & Type Check: 2 –º–∏–Ω
- AI Code Review: 3 –º–∏–Ω
- Build: 5 –º–∏–Ω
- Tests: 5 –º–∏–Ω
- Security Scan: 2 –º–∏–Ω
- Docker Build: 8 –º–∏–Ω
- Deploy: 3 –º–∏–Ω

## –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- ‚úÖ `ops/docker/docker-compose.local.yml` - –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ `docs/PHASE10_RESULTS.md` - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ñ–∞–∑—ã 10

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- ‚úÖ `package.json` - –î–æ–±–∞–≤–ª–µ–Ω—ã Docker —Å–∫—Ä–∏–ø—Ç—ã
- ‚úÖ `ops/docker/README.md` - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ Docker
- ‚úÖ `README.md` - –û–±–Ω–æ–≤–ª–µ–Ω —Å—Ç–∞—Ç—É—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ —Å—Ç–µ–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ
pnpm docker:build
pnpm docker:up

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
pnpm docker:ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
pnpm docker:logs

# –ú–∏–≥—Ä–∞—Ü–∏–∏
docker compose -f ops/docker/docker-compose.local.yml exec api npx prisma migrate deploy

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
pnpm docker:down

# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (–≤–∫–ª—é—á–∞—è volumes)
pnpm docker:clean
```

### Production –Ω–∞ VPS

**–¢—Ä–µ–±—É–µ—Ç—Å—è SSH –¥–æ—Å—Ç—É–ø –∫ VPS:**

```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
ssh root@83.166.244.139

# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
cd /opt/fin-u-ch
docker compose -f docker-compose.prod.yml ps

# –õ–æ–≥–∏
docker compose logs -f api
docker compose logs -f web
docker compose logs -f worker
docker compose logs -f nginx

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
docker compose restart api
docker compose restart web

# –ú–∏–≥—Ä–∞—Ü–∏–∏
docker compose exec api npx prisma migrate deploy

# Pull –Ω–æ–≤—ã—Ö –æ–±—Ä–∞–∑–æ–≤ –≤—Ä—É—á–Ω—É—é
echo $GHCR_TOKEN | docker login ghcr.io -u thoxly --password-stdin
docker compose pull
docker compose up -d --force-recreate

# Backup –ë–î
docker compose exec -T postgres pg_dump -U postgres fin_u_ch > backups/backup-$(date +%Y%m%d-%H%M%S).sql

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
curl http://localhost/api/health
```

## –ú–µ—Ç—Ä–∏–∫–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –†–∞–∑–º–µ—Ä—ã Docker –æ–±—Ä–∞–∑–æ–≤ (production)

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –†–∞–∑–º–µ—Ä     | –û–ø–∏—Å–∞–Ω–∏–µ                        |
| --------- | ---------- | ------------------------------- |
| API       | 452 MB     | Node.js + Prisma + dependencies |
| Web       | 53 MB      | Static files + Nginx            |
| Worker    | 878 MB     | Node.js + Prisma + build tools  |
| **–ò—Ç–æ–≥–æ** | **1.4 GB** | –í—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è                  |

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

**–°–µ—Ä–≤–∏—Å—ã:**

- PostgreSQL 15 (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
- Redis 7 (–∫—ç—à)
- Nginx (reverse proxy)
- API (Backend)
- Web (Frontend)
- Worker (Background jobs)

**–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–æ—Ä—Ç—ã –Ω–∞ VPS:**

- 80 (HTTP) - Nginx
- 443 (HTTPS) - Nginx (—Ä–µ–∑–µ—Ä–≤ –¥–ª—è SSL)
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ (Docker network):
  - 4000 - API
  - 5432 - PostgreSQL
  - 6379 - Redis

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

1. **HTTP —Ç–æ–ª—å–∫–æ** (–±–µ–∑ SSL)
   - ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ–º–µ–Ω–∞ –∏ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
   - –†–∞–±–æ—Ç–∞–µ—Ç: http://83.166.244.139
   - –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç: https://83.166.244.139

2. **–ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –ø–æ IP**
   - URL: http://83.166.244.139
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ–º–µ–Ω

3. **–ë—ç–∫–∞–ø—ã —Ç–æ–ª—å–∫–æ –≤–æ –≤—Ä–µ–º—è –¥–µ–ø–ª–æ—è**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –¥–µ–ø–ª–æ–µ
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ cron –±—ç–∫–∞–ø—ã

### –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **SSL/HTTPS** (–§–ê–ó–ê 11)
   - –ü–æ–ª—É—á–∏—Ç—å –¥–æ–º–µ–Ω
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Let's Encrypt
   - –û–±–Ω–æ–≤–∏—Ç—å nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** (–§–ê–ó–ê 11)
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
   - Health check –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
   - Alerts –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã** (–§–ê–ó–ê 11)
   - –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –±—ç–∫–∞–ø—ã —á–µ—Ä–µ–∑ cron
   - –†–æ—Ç–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

## Troubleshooting

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
ssh root@83.166.244.139
cd /opt/fin-u-ch
docker compose ps

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker compose logs api
docker compose logs nginx

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
docker compose restart api
docker compose restart nginx
```

### –û—à–∏–±–∫–∏ –º–∏–≥—Ä–∞—Ü–∏–π –ë–î

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ë–î
docker compose exec postgres psql -U postgres -d fin_u_ch

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—Ä—É—á–Ω—É—é
docker compose exec api npx prisma migrate deploy

# –í –∫—Ä–∞–π–Ω–µ–º —Å–ª—É—á–∞–µ - —Å–±—Ä–æ—Å –ë–î (‚ö†Ô∏è —É–¥–∞–ª–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ)
docker compose exec api npx prisma migrate reset --force
```

### –°—Ç–∞—Ä—ã–µ –æ–±—Ä–∞–∑—ã –∑–∞–Ω–∏–º–∞—é—Ç –º–µ—Å—Ç–æ

```bash
# –û—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –æ–±—Ä–∞–∑–æ–≤
docker image prune -f

# –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ–≥–æ (–≤–∫–ª—é—á–∞—è volumes)
docker system prune -a --volumes
```

### –ù–µ –º–æ–≥—É pull –æ–±—Ä–∞–∑—ã –∏–∑ GHCR

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å login –≤ GHCR
docker login ghcr.io -u thoxly

# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å pull –≤—Ä—É—á–Ω—É—é
docker pull ghcr.io/thoxly/fin-u-ch-api:latest
```

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ ‚úÖ

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ —á–µ—Ä–µ–∑ HTTP
- ‚úÖ Frontend –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- ‚úÖ API –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ Health endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Redis –∫—ç—à —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Worker –∑–∞–ø—É—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∑–∞–¥–∞—á–∞–º

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- ‚úÖ Docker –æ–±—Ä–∞–∑—ã —Å–æ–±—Ä–∞–Ω—ã –∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã –≤ GHCR
- ‚úÖ CI/CD –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –ø—Ä–∏ push –≤ main
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ Health checks –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Zero downtime deployment
- ‚úÖ Backup –ø—Ä–∏ –∫–∞–∂–¥–æ–º –¥–µ–ø–ª–æ–µ

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- ‚úÖ `PHASE10_RESULTS.md` —Å–æ–∑–¥–∞–Ω
- ‚úÖ `README.md` –æ–±–Ω–æ–≤–ª–µ–Ω
- ‚úÖ `ops/docker/README.md` –æ–±–Ω–æ–≤–ª–µ–Ω
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è production –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–§–ê–ó–ê 11)

1. **SSL/HTTPS**
   - –ü–æ–ª—É—á–∏—Ç—å –¥–æ–º–µ–Ω
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å DNS A-–∑–∞–ø–∏—Å—å
   - –ü–æ–ª—É—á–∏—Ç—å Let's Encrypt —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
   - –û–±–Ω–æ–≤–∏—Ç—å nginx –¥–ª—è HTTPS

2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
   - Health check –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
   - Alerts –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö
   - –ú–µ—Ç—Ä–∏–∫–∏ (Prometheus/Grafana - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã**
   - –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –±—ç–∫–∞–ø—ã —á–µ—Ä–µ–∑ cron
   - –†–æ—Ç–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤ (—Ö—Ä–∞–Ω–∏—Ç—å 30 –¥–Ω–µ–π)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ –±—ç–∫–∞–ø–∞

4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** (–§–ê–ó–ê 7)
   - –ó–∞–≤–µ—Ä—à–∏—Ç—å Unit —Ç–µ—Å—Ç—ã (coverage >= 60%)
   - –ó–∞–≤–µ—Ä—à–∏—Ç—å E2E —Ç–µ—Å—Ç—ã (–∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏)
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ CI/CD

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–§–ê–ó–ê 10 –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ! üéâ

**–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è:**

- ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Docker —Å—Ç–µ–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ CI/CD –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ –Ω–∞ VPS –≤ production
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –ø—Ä–∏ push –≤ main
- ‚úÖ –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∏ –¥–æ—Å—Ç—É–ø–Ω—ã
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∞

**Production –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:**

- üåê Frontend: http://83.166.244.139
- üîå API: http://83.166.244.139/api
- üìö Swagger: http://83.166.244.139/api-docs

**–°–ª–µ–¥—É—é—â–∞—è —Ñ–∞–∑–∞:** –§–ê–ó–ê 11 - –§–∏–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (SSL, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, –±—ç–∫–∞–ø—ã)

---

**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞:** MVP –≥–æ—Ç–æ–≤ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ production! üöÄ
