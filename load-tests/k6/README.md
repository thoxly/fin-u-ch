# k6 load tests

Файлы сценариев находятся в этой папке. Перед запуском убедитесь, что в системе установлен `k6`.

Переменные окружения, используемые в скриптах:

- `K6_HOST` — базовый URL тестируемого сервера (по умолчанию `http://localhost:3000`)
- `K6_TEST_USER` / `K6_TEST_EMAIL` / `K6_TEST_PASS` — учётные данные тестового пользователя (email + password)
- `K6_VUS` — количество виртуальных пользователей (если не задано, берётся из скрипта)
- `K6_DURATION` — длительность (например, `1m`, `5m`)

Примеры запуска:

```bash
# Быстрый smoke-тест аутентификации
k6 run -e K6_HOST=http://localhost:3000 authentication.js

# CRUD тест, 50 VUs 3 минуты
k6 run -e K6_HOST=http://localhost:3000 -e K6_VUS=50 -e K6_DURATION=3m crud.js

# Spike тест
k6 run -e K6_HOST=http://localhost:3000 spike.js

# Тест создания demo-сессии и проверки защищённого маршрута
k6 run -e K6_HOST=http://localhost:3000 worker_jobs.js
```

Рекомендации:

- Запускайте smoke перед тяжёлыми тестами.
- Интегрируйте экспорт метрик в InfluxDB/Grafana для визуализации (`--out influxdb=...`).
- Перед прогоном на production-окружении убедитесь, что вы используете тестовый набор данных и учётные записи.
