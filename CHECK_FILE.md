# Как проверить файл выписки вручную

## 1. Откройте файл в текстовом редакторе

Откройте файл `kl_to_1c (2).txt` в любом текстовом редакторе (Блокнот, VS Code, Notepad++ и т.д.)

## 2. Проверьте структуру файла

Файл должен содержать:

### Заголовок (первые строки):

```
1CClientBankExchange
ВерсияФормата=...
Кодировка=...
```

### Секции документов:

```
СекцияДокумент=Платежное поручение
Дата=24.10.2025
Номер=...
Сумма=...
Плательщик=...
Получатель=...
КонецДокумента
```

## 3. Что проверить:

1. **Есть ли заголовок "1CClientBankExchange"** в первых строках?
2. **Есть ли секции "СекцияДокумент=Платежное поручение"**?
3. **Есть ли обязательные поля** в каждой секции:
   - `Дата=...` (формат: DD.MM.YYYY)
   - `Сумма=...` (число)
4. **Корректно ли закрыты секции** (`КонецДокумента`)?

## 4. Примеры проблем:

### Проблема: Неправильный тип документа

```
СекцияДокумент=Выписка
```

Решение: Файл должен содержать "Платежное поручение", а не "Выписка"

### Проблема: Отсутствует дата

```
СекцияДокумент=Платежное поручение
Сумма=1000.00
```

Решение: Нужно добавить поле `Дата=24.10.2025`

### Проблема: Неправильный формат даты

```
Дата=2025-10-24
```

Решение: Дата должна быть в формате `DD.MM.YYYY` (например, `24.10.2025`)

## 5. Посмотреть логи сервера

В Git Bash, где запущен `pnpm dev`, вы увидите логи парсинга:

- `Parser: win1251 first line` - первая строка в кодировке Windows-1251
- `Parser: Parsing complete` - результаты парсинга
- `File parsing failed` - ошибки парсинга

## 6. Пришлите информацию:

Если файл не работает, пришлите:

1. Первые 10-15 строк файла
2. Пример одной секции документа (от `СекцияДокумент=` до `КонецДокумента`)
3. Сообщение об ошибке из браузера (полный текст)
